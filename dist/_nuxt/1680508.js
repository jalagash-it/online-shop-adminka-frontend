(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{306:function(t,e,n){"use strict";n.r(e);n(44),n(169),n(37);var o={name:"Tree",props:["data"],data:function(){return{creatingGroup:null,creatingGroupModal:!1,editingGroup:null,editingGroupModal:!1}},methods:{toggleExpand:function(t){this.$store.commit("categories/toggleExpand",t)},addGroup:function(t){console.log(t),this.creatingGroup={id:(new Date).getTime(),name:"жаңа категория",children:[],parent:t},this.creatingGroupModal=!0},create:function(){this.$store.dispatch("categories/create",this.creatingGroup)},editGroup:function(t){this.editingGroup=t,this.editingGroupModal=!0},updateGroup:function(){this.$store.dispatch("categories/updateGroup",this.editingGroup)},removeGroup:function(t){if(confirm('Удалить "'.concat(data.name,'" и все ее содержимое ?'))){var e=this.nodeArr.indexOf(t);this.nodeArr.splice(e,1)}}}},r=(n(309),n(83)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"tree-list-ul"},[n("li",[n("div",{staticClass:"node-item"},[n("b-button",{attrs:{size:"sm",variant:"light"},on:{click:function(e){return t.toggleExpand(t.data)}}},[t.data.isExpanded?n("b-icon",{attrs:{icon:"arrow-down"}}):n("b-icon",{attrs:{icon:"arrow-right"}})],1),t._v(" "),n("b-icon",{attrs:{icon:"folder"}}),t._v("\n      "+t._s(t.data.node&&t.data.node.name||"--")+"\n\n      "),n("span",{staticClass:"node-actions"},[n("b-button",{attrs:{size:"sm"},on:{click:function(e){return t.addGroup(t.data)}}},[n("b-icon",{attrs:{icon:"folder-plus"}})],1),t._v(" "),n("b-button",{attrs:{size:"sm"},on:{click:function(e){return t.editGroup(t.n)}}},[n("b-icon",{attrs:{icon:"pencil-square"}})],1),t._v(" "),n("b-button",{attrs:{size:"sm"},on:{click:function(e){return t.removeGroup(t.n)}}},[n("b-icon",{attrs:{icon:"trash"}})],1)],1)],1),t._v(" "),t.data.isExpanded&&t.data.children.length?t._l(t.data.children,(function(t){return n("Tree",{key:t.id,attrs:{data:t}})})):t._e()],2),t._v(" "),null!=t.creatingGroup?n("b-modal",{on:{ok:t.create},model:{value:t.creatingGroupModal,callback:function(e){t.creatingGroupModal=e},expression:"creatingGroupModal"}},[n("b-form-group",{attrs:{"label-size":"sm",label:"Название группы"}},[n("b-form-input",{attrs:{size:"sm"},model:{value:t.creatingGroup.name,callback:function(e){t.$set(t.creatingGroup,"name",e)},expression:"creatingGroup.name"}})],1)],1):t._e(),t._v(" "),null!=t.editingGroup?n("b-modal",{on:{ok:t.updateGroup},model:{value:t.editingGroupModal,callback:function(e){t.editingGroupModal=e},expression:"editingGroupModal"}},[n("b-form-group",{attrs:{"label-size":"sm",label:"Название группы"}},[n("b-form-input",{attrs:{size:"sm"},model:{value:t.editingGroup.name,callback:function(e){t.$set(t.editingGroup,"name",e)},expression:"editingGroup.name"}})],1)],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Tree:n(306).default})},307:function(t,e,n){var content=n(310);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(82).default)("f770f480",content,!0,{sourceMap:!1})},309:function(t,e,n){"use strict";n(307)},310:function(t,e,n){(e=n(81)(!1)).push([t.i,".tree-list-ul{list-style:none;margin:8px 0}.tree-list-ul>li{margin:8px 0}.node-item:hover>.node-actions{display:inline}.node-actions{display:none;margin-left:8px}",""]),t.exports=e},313:function(t,e,n){"use strict";n.r(e);var o={components:{Tree:n(306).default},data:function(){return{}},computed:{categories:function(){return this.$store.state.categories.tree}},mounted:function(){this.$store.dispatch("categories/all")}},r=n(83),component=Object(r.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("b-container",[e("b-row",[this.categories?e("b-col",[e("Tree",{attrs:{data:this.categories}})],1):this._e()],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Tree:n(306).default})}}]);